# Hospital_Registration_System
医院门诊预约挂号系统 - Commit策略（基于Sprint迭代）
项目计划采用敏捷开发模式，分为 3 个迭代周期（Sprint），每个周期 2 周。

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Sprint 1: 核心预约流程与用户管理 (为期 2 周)

核心目标： 完成患者与医师的实名注册、登录认证；实现患者查看医生信息、选择科室与医生、提交预约请求的核心流程。

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

提交: 基础架构与多角色注册认证
对应用例：UC-01 用户注册与登录、UC-02 用户信息管理

git commit -m "feat(sprint1): 搭建基础架构与多角色用户认证系统

功能点：

✅ 项目基础架构搭建（前后端框架、目录结构）
✅ 多角色用户（患者、医师、管理员）实名制注册功能
✅ 患者注册信息：姓名、身份证号、手机号、病史、过敏史
✅ 医师注册信息：姓名、工号、职称、科室、擅长领域、医师资格证
✅ 用户登录认证与会话管理（JWT/Session）
✅ 基于角色的权限控制（RBAC）- 患者/医师/管理员权限分离
✅ 个人信息查看与修改功能
✅ 密码加密存储（BCrypt）与密码修改/找回功能
✅ 定义User、Patient、Doctor、Admin等核心数据模型
对应迭代目标：完成用户注册登录与权限控制。
Closes #UC-01, #UC-02"

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

提交: 数据库设计与核心实体
对应模块：数据库设计

git commit -m "feat(sprint1): 完成核心业务数据库设计

功能点：

✅ 用户相关表：用户表、患者表、医生表、管理员表
✅ 科室相关表：科室表、科室-医生关联表
✅ 排班相关表：医生排班表、号源配置表
✅ 预约相关表：预约挂号表、预约状态表
✅ 系统相关表：操作日志表、消息通知表
✅ 设计表关系（外键、索引）
✅ 设计视图（医生排班视图、预约统计视图）
✅ 定义数据字典与命名规范
对应迭代目标：完成数据库架构设计。
Closes #DB-Design"

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

提交: 科室与医生信息展示
对应用例：UC-03 浏览科室与医生信息

git commit -m "feat(sprint1): 实现科室与医生信息展示系统

功能点：

✅ 科室列表展示（内科、外科、儿科、妇科、骨科等）
✅ 科室详情页（科室简介、位置、联系方式）
✅ 按科室筛选医生列表功能
✅ 医生列表展示（头像、姓名、职称、擅长领域、出诊时间）
✅ 医生详情页（个人简介、专业背景、患者评价）
✅ 医生搜索功能（按姓名、科室、职称多条件筛选）
✅ 医生在线状态标识（可预约/已满/休息）
✅ 定义Department、DoctorProfile等实体模型
对应迭代目标：患者可浏览科室与医生信息。
Closes #UC-03"

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

提交: 患者预约挂号核心流程
对应用例：UC-04 患者预约挂号

git commit -m "feat(sprint1): 实现患者预约挂号核心业务流程

功能点：

✅ 患者选择科室后查看可预约日期（未来7-14天，排除非工作日）
✅ 日期选择后展示该日期医生列表及时间段（上午/下午/晚上）
✅ 实时显示各时间段剩余号源数量
✅ 患者填写就诊人信息（支持为他人预约）
✅ 患者填写病情描述（症状、病史、用药史）
✅ 预约信息确认页面（医生、时间、费用）
✅ 提交预约，创建Appointment记录，状态设为'待就诊'
✅ 号源实时扣减与并发控制（乐观锁/悲观锁防止超额预约）
✅ 预约成功页面展示（预约单号、就诊凭证、二维码）
对应迭代目标：实现患者预约挂号的核心流程。
Closes #UC-04"

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

提交: 预约记录管理
对应用例：UC-05 预约记录管理

git commit -m "feat(sprint1): 实现预约记录查询与管理功能

功能点：

✅ 患者"我的预约"列表（全部/待就诊/已完成/已取消分类）
✅ 预约记录详情查看（医生信息、就诊时间、预约号、科室位置）
✅ 预约取消功能（限就诊前24小时，超时不可取消）
✅ 取消预约后释放号源，状态更新为'已取消'
✅ 取消原因填写与记录
✅ 预约修改功能（改期，限就诊前48小时）
✅ 就诊提醒功能（就诊前1天/1小时站内消息提醒）
✅ 超时未就诊的自动状态更新为'已过期'
对应迭代目标：完善预约管理功能。
Closes #UC-05"

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Sprint 2: 医生管理与资源配置 (为期 2 周)

核心目标： 实现医生查看和管理预约列表；管理员配置科室、排班和号源；支持医生坐诊时间设置。

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

提交: 医生端预约管理系统
对应用例：UC-06 医生查看预约列表

git commit -m "feat(sprint2): 实现医生端预约管理与患者信息系统

功能点：

✅ 医生工作台首页（今日预约概览、待就诊人数、当前状态）
✅ 医生查看今日预约患者列表（按时间段排序）
✅ 医生查看未来预约列表（按日期筛选、搜索患者）
✅ 患者信息详情查看（姓名、年龄、联系方式、病情描述、病史）
✅ 患者历史就诊记录查看（历次诊断、用药记录）
✅ 就诊状态管理（'待就诊' -> '就诊中' -> '已完成'）
✅ 医生标记患者'已到诊'/'未到诊'功能
✅ 未到诊患者自动记录爽约次数
✅ 医生添加就诊备注功能
对应迭代目标：医生可查看和管理预约列表。
Closes #UC-06"

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

提交: 医生坐诊时间管理
对应用例：UC-07 医生坐诊设置

git commit -m "feat(sprint2): 实现医生坐诊时间配置与管理

功能点：

✅ 医生设置常规坐诊时间（周一至周日、上午/下午/晚上）
✅ 医生设置单次坐诊最大接诊人数
✅ 医生设置特殊日期（临时停诊、节假日停诊、临时加班）
✅ 停诊日期设置后自动通知已预约患者
✅ 医生请假申请流程（提交请假->管理员审批->自动通知患者）
✅ 坐诊时间变更历史记录
✅ 坐诊时间日历可视化展示
✅ 定义DoctorSchedule实体，关联Doctor与时间槽
对应迭代目标：医生可自主管理坐诊时间。
Closes #UC-07"

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

提交: 管理员资源配置系统
对应用例：UC-08 科室信息管理、UC-09 号源配置、UC-13 用户管理

git commit -m "feat(sprint2): 实现管理员科室、排班与号源管理

功能点：

✅ 管理员后台科室信息CRUD（名称、简介、位置、联系方式、科室主任）
✅ 管理员为医生分配科室与职称
✅ 管理员统一设置医生排班（批量排班、模板排班）
✅ 管理员配置每个时间段的预约号源数量（分时段、分医生）
✅ 节假日排班特殊配置（春节、国庆等长假期停诊安排）
✅ 号源动态调整（临时增加/减少号源，应急处理）
✅ 管理员审核医生请假申请
✅ 医生资质审核与账号激活/禁用
✅ 用户账号管理（患者/医生账号状态管理、异常用户处理）
✅ 定义ResourceConfig实体管理号源配置
对应迭代目标：管理员完成科室、排班与号源配置。
Closes #UC-08, #UC-09, #UC-13"

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Sprint 3: 统计分析与系统完善 (为期 2 周)

核心目标： 实现数据统计与报表生成；完善消息通知系统；落实系统安全性、性能等非功能需求。

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

提交: 数据统计与分析系统
对应用例：UC-11 预约数据统计、UC-12 医疗资源分析

git commit -m "feat(sprint3): 实现多维度数据统计与可视化分析

功能点：

✅ 管理员数据总览看板（关键指标卡片：今日预约数、就诊率、爽约率）
✅ 预约数据统计（日/周/月/年维度，可选时间范围）
✅ 患者实际就诊率统计（预约数 vs 实际到诊数对比）
✅ 科室预约热度排行榜（TOP10，柱状图展示）
✅ 医生工作量统计（接诊人数、平均就诊时长、工作饱和度）
✅ 号源利用率分析（已用号源/总号源比例，时段分布热力图）
✅ 患者爽约率统计与爽约名单管理
✅ 数据可视化图表（ECharts：柱状图、折线图、饼图、热力图）
✅ 统计报表导出功能（Excel/PDF格式，自定义时间范围）
✅ 医生个人工作统计（本月接诊数、患者好评率、工作趋势图）
对应迭代目标：实现数据统计与分析功能。
Closes #UC-11, #UC-12"

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

提交: 消息通知系统
对应用例：UC-10 预约通知

git commit -m "feat(sprint3): 实现多场景消息通知与提醒系统

功能点：

✅ 预约成功站内消息通知（包含预约详情、就诊地点、注意事项）
✅ 就诊前1天自动提醒（站内消息推送）
✅ 就诊前1小时二次提醒
✅ 预约取消/修改通知（患者主动取消、医生停诊导致取消）
✅ 医生停诊通知已预约患者（支持批量通知）
✅ 系统公告发布功能（维护通知、政策更新、重要提醒）
✅ 消息中心（用户查看所有历史消息、已读/未读状态）
✅ 消息标记为已读/删除功能
✅ 定义Notification实体，记录通知历史与发送状态
✅ 可选扩展：短信/邮件通知接口预留（第三方服务集成）
对应迭代目标：完成消息通知系统。
Closes #UC-10"

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

提交: 系统优化与非功能需求落实
对应非功能需求：安全性、可靠性、性能、易用性

git commit -m "refactor(sprint3): 系统收尾、安全加固与性能优化

功能点：
安全性：

✅ 敏感数据加密（身份证号、病史、联系方式）传输与存储加密
✅ SQL注入防护（参数化查询、ORM框架使用）
✅ XSS攻击防护（输入过滤、输出转义）
✅ CSRF防护（Token验证）
✅ 接口访问频率限制（防刷单、防恶意攻击，限流中间件）
✅ 密码强度校验与账号登录尝试次数限制
可靠性：

✅ 核心业务操作日志记录（预约/取消/修改全流程可追溯）
✅ 数据库事务管理（预约+扣减号源原子操作）
✅ 异常处理机制与友好错误提示
✅ 数据备份策略设计
性能：

✅ 数据库索引优化（用户表、预约表、医生表关键字段）
✅ 查询响应时间优化（<500ms，慢查询日志监控）
✅ 并发预约压力测试（支持100+并发请求）
✅ 缓存机制（Redis缓存医生列表、科室信息等热点数据）
✅ 静态资源CDN加速
易用性：

✅ 响应式界面设计（适配PC/平板/手机）
✅ 界面交互优化（减少操作步骤，智能表单填充）
✅ 加载状态提示与骨架屏
✅ 表单验证与实时提示
✅ 无障碍访问支持（ARIA标签）
对应迭代目标：系统最终完善与非功能需求达标。
Closes #Non-Functional-Requirements"