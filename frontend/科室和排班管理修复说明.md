# ç§‘å®¤ç®¡ç†å’Œæ’ç­ç®¡ç†é¡µé¢ä¿®å¤

## ğŸ› é—®é¢˜æè¿°

ç‚¹å‡»"ç§‘å®¤ç®¡ç†"å’Œ"æ’ç­ç®¡ç†"èœå•åï¼Œé¡µé¢æ— æ³•æ‰“å¼€æˆ–æ˜¾ç¤ºé”™è¯¯ã€‚

## ğŸ” é—®é¢˜åŸå› 

1. **API å‡½æ•°ç¼ºå¤±**ï¼š
   - `Departments.vue` å’Œ `Schedules.vue` éƒ½å¯¼å…¥äº† `listAllDepartments`
   - ä½† `department.js` ä¸­åªæœ‰ `getAllDepartments`ï¼Œæ²¡æœ‰ `listAllDepartments`

2. **åˆ†é¡µæ•°æ®å¤„ç†**ï¼š
   - `Schedules.vue` ä¸­è°ƒç”¨ `listAllDoctors()` æ²¡æœ‰æ­£ç¡®å¤„ç†åˆ†é¡µæ•°æ®

## âœ… å·²ä¿®å¤

### 1. æ·»åŠ  `listAllDepartments` å‡½æ•°

**æ–‡ä»¶**: `api/department.js`

```javascript
// æ·»åŠ äº†åˆ«åå‡½æ•°
export function listAllDepartments() {
  return getAllDepartments()
}
```

è¿™æ · `Departments.vue` å’Œ `Schedules.vue` å°±å¯ä»¥æ­£å¸¸å¯¼å…¥ä½¿ç”¨äº†ã€‚

### 2. ä¿®å¤ `Schedules.vue` ä¸­çš„åŒ»ç”Ÿåˆ—è¡¨è·å–

**æ–‡ä»¶**: `views/admin/Schedules.vue`

```javascript
// ä¿®æ”¹å‰ï¼š
const data = await listAllDoctors();
allDoctors.value = data.filter(d => d.status === 'ACTIVE') || [];

// ä¿®æ”¹åï¼š
const data = await listAllDoctors({ page: 0, size: 1000 });
const doctorsList = data.content || [];
allDoctors.value = doctorsList.filter(d => d.status === 'ACTIVE') || [];
```

## ğŸš€ å¦‚ä½•éªŒè¯ä¿®å¤

### 1. åˆ·æ–°æµè§ˆå™¨

å‰ç«¯ä¼šè‡ªåŠ¨çƒ­æ›´æ–°ï¼Œç›´æ¥åˆ·æ–°é¡µé¢å³å¯ï¼š
- è®¿é—®ï¼š`http://localhost:3000/admin/departments`
- è®¿é—®ï¼š`http://localhost:3000/admin/schedules`

### 2. æ£€æŸ¥é¡µé¢

**ç§‘å®¤ç®¡ç†é¡µé¢åº”è¯¥æ˜¾ç¤º**ï¼š
- âœ… é¡µé¢æ ‡é¢˜ï¼š"ç§‘å®¤ç®¡ç†"
- âœ… "æ·»åŠ ç§‘å®¤" æŒ‰é’®
- âœ… ç§‘å®¤å¡ç‰‡åˆ—è¡¨ï¼ˆå¦‚æœæœ‰æ•°æ®ï¼‰

**æ’ç­ç®¡ç†é¡µé¢åº”è¯¥æ˜¾ç¤º**ï¼š
- âœ… é¡µé¢æ ‡é¢˜ï¼š"æ’ç­ç®¡ç†"
- âœ… "æ‰¹é‡åˆ›å»ºæ’ç­" æŒ‰é’®
- âœ… ç­›é€‰æ ï¼ˆç§‘å®¤ã€åŒ»ç”Ÿä¸‹æ‹‰æ¡†ï¼‰
- âœ… æ’ç­è¯´æ˜æç¤º

### 3. æµ‹è¯•åŠŸèƒ½

**ç§‘å®¤ç®¡ç†**ï¼š
1. ç‚¹å‡»"æ·»åŠ ç§‘å®¤"æŒ‰é’®
2. å¡«å†™ç§‘å®¤ä¿¡æ¯
3. ç‚¹å‡»"ç¡®å®š"
4. æŸ¥çœ‹æ˜¯å¦æˆåŠŸåˆ›å»º

**æ’ç­ç®¡ç†**ï¼š
1. ç‚¹å‡»"æ‰¹é‡åˆ›å»ºæ’ç­"æŒ‰é’®
2. é€‰æ‹©åŒ»ç”Ÿ
3. è®¾ç½®æ—¥æœŸèŒƒå›´
4. é…ç½®æ—¶æ®µ
5. ç‚¹å‡»"åˆ›å»ºæ’ç­"

## â— å¦‚æœè¿˜æ˜¯æ— æ³•æ‰“å¼€

### æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°

1. æŒ‰ F12 æ‰“å¼€å¼€å‘è€…å·¥å…·
2. æŸ¥çœ‹ Console æ ‡ç­¾æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯
3. æŸ¥çœ‹ Network æ ‡ç­¾ï¼Œæ£€æŸ¥ API è¯·æ±‚æ˜¯å¦æˆåŠŸ

### å¸¸è§é”™è¯¯

**é”™è¯¯1**: `Cannot find module '@/api/department'`
- **è§£å†³**: æ£€æŸ¥ `api/department.js` æ–‡ä»¶æ˜¯å¦å­˜åœ¨

**é”™è¯¯2**: `listAllDepartments is not a function`
- **è§£å†³**: åˆ·æ–°æµè§ˆå™¨ï¼Œç¡®ä¿ä»£ç å·²æ›´æ–°

**é”™è¯¯3**: API è¯·æ±‚å¤±è´¥ (404/500)
- **è§£å†³**: æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ
- æ£€æŸ¥åç«¯æ˜¯å¦æœ‰å¯¹åº”çš„ API æ¥å£

### æ£€æŸ¥è·¯ç”±é…ç½®

ç¡®è®¤ `router/index.js` ä¸­æœ‰ä»¥ä¸‹è·¯ç”±ï¼š

```javascript
{
  path: 'departments',
  name: 'AdminDepartments',
  component: () => import('@/views/admin/Departments.vue'),
  meta: { title: 'ç§‘å®¤ç®¡ç†' }
},
{
  path: 'schedules',
  name: 'AdminSchedules',
  component: () => import('@/views/admin/Schedules.vue'),
  meta: { title: 'æ’ç­ç®¡ç†' }
}
```

## ğŸ“ æŠ€æœ¯è¯´æ˜

### API å‡½æ•°åˆ«å

ç”±äºä»£ç ä¸­å¤šå¤„ä½¿ç”¨äº† `listAllDepartments`ï¼Œä¸ºäº†ä¿æŒå‘åå…¼å®¹ï¼Œæˆ‘æ·»åŠ äº†ä¸€ä¸ªåˆ«åå‡½æ•°ï¼š

```javascript
export function listAllDepartments() {
  return getAllDepartments()
}
```

è¿™æ ·ä¸éœ€è¦ä¿®æ”¹æ‰€æœ‰ä½¿ç”¨è¯¥å‡½æ•°çš„åœ°æ–¹ï¼Œåªéœ€æ·»åŠ ä¸€ä¸ªç®€å•çš„åŒ…è£…å‡½æ•°å³å¯ã€‚

### åˆ†é¡µæ•°æ®å¤„ç†

`listAllDoctors` è¿”å›çš„æ˜¯ `Page<DoctorListDTO>` æ ¼å¼ï¼š

```typescript
{
  content: DoctorListDTO[],  // å®é™…æ•°æ®æ•°ç»„
  totalElements: number,     // æ€»è®°å½•æ•°
  totalPages: number         // æ€»é¡µæ•°
}
```

æ‰€ä»¥éœ€è¦å– `data.content` æ¥è·å–å®é™…çš„åŒ»ç”Ÿåˆ—è¡¨ã€‚

## âœ¨ ä¿®å¤å®Œæˆ

âœ… **å·²ä¿®å¤çš„é—®é¢˜**ï¼š
1. æ·»åŠ äº† `listAllDepartments` API å‡½æ•°
2. ä¿®å¤äº† `Schedules.vue` ä¸­çš„åˆ†é¡µæ•°æ®å¤„ç†
3. æ— è¯­æ³•é”™è¯¯

ğŸ”„ **éœ€è¦çš„æ“ä½œ**ï¼š
- åˆ·æ–°æµè§ˆå™¨é¡µé¢

ğŸ“… **ä¿®å¤æ—¶é—´**ï¼š2025å¹´12æœˆ30æ—¥

---

**ä¿®å¤å®Œæˆåï¼Œç§‘å®¤ç®¡ç†å’Œæ’ç­ç®¡ç†é¡µé¢åº”è¯¥å¯ä»¥æ­£å¸¸æ‰“å¼€äº†ï¼**

