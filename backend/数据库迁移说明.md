# 数据库迁移说明

## 重要：执行数据库迁移脚本

在启动应用之前，请确保执行以下SQL脚本来添加 `last_login_at` 字段：

### 方法1：手动执行SQL（推荐）

连接到MySQL数据库，执行以下SQL：

```sql
ALTER TABLE users 
ADD COLUMN last_login_at DATETIME NULL COMMENT '最后登录时间';
```

### 方法2：使用SQL脚本文件

执行 `07_add_last_login_at.sql` 文件：

```bash
mysql -u root -p hospital_registration < src/main/resources/07_add_last_login_at.sql
```

或者在MySQL客户端中执行该文件。

### 验证

执行后，可以通过以下SQL验证字段是否添加成功：

```sql
DESCRIBE users;
```

应该能看到 `last_login_at` 字段。

## 注意事项

- 如果字段已存在，执行ALTER TABLE会报错，可以忽略
- 执行后需要重启后端服务
- 新用户登录后会自动更新 `last_login_at` 字段

